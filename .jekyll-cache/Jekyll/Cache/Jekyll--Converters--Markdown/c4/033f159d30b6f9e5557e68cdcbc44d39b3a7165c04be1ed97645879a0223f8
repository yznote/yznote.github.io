I"¾!<h4 id="å‰è¨€">å‰è¨€</h4>

<blockquote>
  <p>æˆ‘ä½¿ç”¨çš„<code class="highlighter-rouge">Mac OS X</code>ç‰ˆæœ¬æ˜¯<code class="highlighter-rouge">10.8.2</code>ï¼Œ<code class="highlighter-rouge">Mac</code>è‡ªå¸¦äº†<code class="highlighter-rouge">Apache</code>ç¯å¢ƒã€‚<br />
1ã€å¯åŠ¨Apache<br />
2ã€è®¾ç½®è™šæ‹Ÿä¸»æœº</p>
</blockquote>

<h5 id="å¯åŠ¨apache">å¯åŠ¨Apache</h5>

<p>æ‰“å¼€â€œç»ˆç«¯(<code class="highlighter-rouge">terminal</code>)â€ï¼Œè¾“å…¥ <code class="highlighter-rouge">sudo apachectl -v</code>ï¼Œï¼ˆå¯èƒ½éœ€è¦è¾“å…¥æœºå™¨ç§˜å¯†ï¼‰ã€‚å¦‚ä¸‹æ˜¾ç¤º<code class="highlighter-rouge">Apache</code>çš„ç‰ˆæœ¬</p>

<div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Server</span> <span class="n">version</span><span class="o">:</span> <span class="n">Apache</span><span class="o">/</span><span class="mi">2</span><span class="p">.</span><span class="mi">4</span><span class="p">.</span><span class="mi">34</span> <span class="p">(</span><span class="n">Unix</span><span class="p">)</span>
<span class="n">Server</span> <span class="n">built</span><span class="o">:</span>   <span class="n">Feb</span> <span class="mi">22</span> <span class="mi">2015</span> <span class="mi">20</span><span class="o">:</span><span class="mi">20</span><span class="o">:</span><span class="mi">11</span>
</code></pre></div></div>

<p>æ¥ç€è¾“å…¥ <code class="highlighter-rouge">sudo apachectl start</code>ï¼Œè¿™æ ·<code class="highlighter-rouge">Apache</code>å°±å¯åŠ¨äº†ã€‚æ‰“å¼€<code class="highlighter-rouge">Safari</code>æµè§ˆå™¨åœ°å€æ è¾“å…¥ <code class="highlighter-rouge">http://localhost</code>ï¼Œå¯ä»¥çœ‹åˆ°å†…å®¹ä¸ºâ€œ<code class="highlighter-rouge">It works!</code>â€çš„é¡µé¢ã€‚å…¶ä½äº<code class="highlighter-rouge">/Libraryï¼ˆèµ„æºåº“ï¼‰/WebServer/Documents/</code>ä¸‹ï¼Œè¿™å°±æ˜¯<code class="highlighter-rouge">Apache</code>çš„é»˜è®¤æ ¹ç›®å½•ã€‚</p>

<p><code class="highlighter-rouge">Apache</code>çš„å®‰è£…ç›®å½•åœ¨ï¼š<code class="highlighter-rouge">/etc/apache2/</code>ï¼Œ<code class="highlighter-rouge">etc</code>é»˜è®¤æ˜¯éšè—çš„ã€‚æœ‰ä¸‰ç§æ–¹å¼æŸ¥çœ‹ï¼š</p>

<blockquote>
  <p>1ã€<code class="highlighter-rouge">dock</code>ä¸‹å³é”®<code class="highlighter-rouge">Finder</code>ï¼Œé€‰æ‹©â€å‰å¾€æ–‡ä»¶å¤¹â€ï¼Œè¾“å…¥<code class="highlighter-rouge">/etc</code> <br />
2ã€åœ¨<code class="highlighter-rouge">finder</code>ä¸‹ï¼&gt;å‰å¾€ï¼&gt;å‰å¾€æ–‡ä»¶å¤¹ï¼Œç„¶åè¾“å…¥<code class="highlighter-rouge">/etc</code><br />
3ã€å¯ä»¥åœ¨<code class="highlighter-rouge">terminal</code> è¾“å…¥ <code class="highlighter-rouge">open /etc</code></p>
</blockquote>

<h5 id="è®¾ç½®è™šæ‹Ÿä¸»æœº">è®¾ç½®è™šæ‹Ÿä¸»æœº</h5>

<blockquote>
  <p>1ã€åœ¨ç»ˆç«¯è¿è¡Œ<code class="highlighter-rouge">sudo vi /etc/apache2/httpd.conf</code>ï¼Œæ‰“å¼€<code class="highlighter-rouge">Apche</code>çš„é…ç½®æ–‡ä»¶
2ã€åœ¨<code class="highlighter-rouge">httpd.conf</code>ä¸­æ‰¾åˆ°<code class="highlighter-rouge">#Include /private/etc/apache2/extra/httpd-vhosts.conf</code>ï¼Œå»æ‰å‰é¢çš„<code class="highlighter-rouge">ï¼ƒ</code>ï¼Œä¿å­˜å¹¶é€€å‡ºã€‚  <br />
3ã€è¿è¡Œ<code class="highlighter-rouge">sudo apachectl restart</code>ï¼Œé‡å¯<code class="highlighter-rouge">Apache</code>åå°±å¼€å¯äº†è™šæ‹Ÿä¸»æœºé…ç½®åŠŸèƒ½ã€‚<br />
4ã€è¿è¡Œ<code class="highlighter-rouge">sudo vi /etc/apache2/extra/httpd-vhosts.conf</code>ï¼Œå°±æ‰“å¼€äº†é…ç½®è™šæ‹Ÿä¸»æœºæ–‡ä»¶<code class="highlighter-rouge">httpd-vhost.conf</code>ï¼Œé…ç½®è™šæ‹Ÿä¸»æœºäº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¯¥æ–‡ä»¶é»˜è®¤å¼€å¯äº†ä¸¤ä¸ªä½œä¸ºä¾‹å­çš„è™šæ‹Ÿä¸»æœº:</p>
</blockquote>

<div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;&lt;/</span><span class="n">code</span><span class="o">&gt;</span><span class="n">VirtualHost</span> <span class="o">*:</span><span class="mi">80</span><span class="o">&gt;</span>
    <span class="n">ServerAdmin</span> <span class="n">webmaster</span><span class="err">@dummy</span><span class="k">-</span><span class="n">host</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span>
    <span class="n">DocumentRoot</span> <span class="s">"/usr/docs/dummy-host.example.com"</span>
    <span class="n">ServerName</span> <span class="n">dummy</span><span class="k">-</span><span class="n">host</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span>
    <span class="n">ErrorLog</span> <span class="s">"/private/var/log/apache2/dummy-host.example.com-error_log"</span>
    <span class="n">CustomLog</span> <span class="s">"/private/var/log/apache2/dummy-host.example.com-access_log"</span> <span class="n">common</span>
<span class="o">&lt;/&lt;/</span><span class="n">code</span><span class="o">&gt;</span><span class="n">VirtualHost</span><span class="o">&gt;</span>

<span class="o">&lt;&lt;/</span><span class="n">code</span><span class="o">&gt;</span><span class="n">VirtualHost</span> <span class="o">*:</span><span class="mi">80</span><span class="o">&gt;</span>
    <span class="n">ServerAdmin</span> <span class="n">webmaster</span><span class="err">@dummy</span><span class="k">-</span><span class="n">host2</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span>
    <span class="n">DocumentRoot</span> <span class="s">"/usr/docs/dummy-host2.example.com"</span>
    <span class="n">ServerName</span> <span class="n">dummy</span><span class="k">-</span><span class="n">host2</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span>
    <span class="n">ErrorLog</span> <span class="s">"/private/var/log/apache2/dummy-host2.example.com-error_log"</span>
    <span class="n">CustomLog</span> <span class="s">"/private/var/log/apache2/dummy-host2.example.com-access_log"</span> <span class="n">common</span>
<span class="o">&lt;/&lt;/</span><span class="n">code</span><span class="o">&gt;</span><span class="n">VirtualHost</span><span class="o">&gt;</span>
</code></pre></div></div>
<blockquote>
  <p>è€Œå®é™…ä¸Šï¼Œè¿™ä¸¤ä¸ªè™šæ‹Ÿä¸»æœºæ˜¯ä¸å­˜åœ¨çš„ï¼Œåœ¨æ²¡æœ‰é…ç½®ä»»ä½•å…¶ä»–è™šæ‹Ÿä¸»æœºæ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´è®¿é—®<code class="highlighter-rouge">localhost</code>æ—¶å‡ºç°å¦‚ä¸‹æç¤ºï¼š</p>
  <blockquote>
    <p><code class="highlighter-rouge">Forbidden You don't have permission to access /index.php on this server</code>
æœ€ç®€å•çš„åŠæ³•å°±æ˜¯åœ¨å®ƒä»¬æ¯è¡Œå‰é¢åŠ ä¸Š<code class="highlighter-rouge">#</code>ï¼Œæ³¨é‡Šæ‰å°±å¥½äº†ï¼Œè¿™æ ·æ—¢èƒ½å‚è€ƒåˆä¸å¯¼è‡´å…¶ä»–é—®é¢˜ã€‚
5ã€å¢åŠ å¦‚ä¸‹é…ç½®:
```obj-c
Â«/code&gt;VirtualHost *:80&gt;
    DocumentRoot â€œ/Library/WebServer/Documentsâ€
    ServerName localhost
    ErrorLog â€œ/private/var/log/apache2/localhost-error_logâ€
    CustomLog â€œ/private/var/log/apache2/localhost-access_logâ€ common
&lt;/&lt;/code&gt;VirtualHost&gt;</p>
  </blockquote>
</blockquote>

<p>Â«/code&gt;VirtualHost *:80&gt;
    DocumentRoot â€œ/Users/snandy/workâ€
    ServerName mysites
    ErrorLog â€œ/private/var/log/apache2/sites-error_logâ€
    CustomLog â€œ/private/var/log/apache2/sites-access_logâ€ common
    Â«/code&gt;Directory /&gt;
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order deny,allow
                Allow from all
      &lt;/&lt;/code&gt;Directory&gt;
&lt;/&lt;/code&gt;VirtualHost&gt;
```
ä¿å­˜é€€å‡ºï¼Œå¹¶é‡å¯<code class="highlighter-rouge">Apache</code>ã€‚
6ã€è¿è¡Œ<code class="highlighter-rouge">sudo vi /etc/hosts</code>ï¼Œæ‰“å¼€<code class="highlighter-rouge">hosts</code>é…ç½®æ–‡ä»¶ï¼ŒåŠ å…¥<code class="highlighter-rouge">127.0.0.1 mysites</code>ï¼Œè¿™æ ·å°±å¯ä»¥é…ç½®å®Œæˆ<code class="highlighter-rouge">sites</code>è™šæ‹Ÿä¸»æœºäº†ï¼Œå¯ä»¥è®¿é—®<code class="highlighter-rouge">http://mysites</code>äº†ï¼Œåœ¨10.8ä¹‹å‰<code class="highlighter-rouge">Mac OS X</code>ç‰ˆæœ¬å…¶å†…å®¹å’Œ<code class="highlighter-rouge">http://localhost/~[ç”¨æˆ·å]</code>å®Œå…¨ä¸€è‡´ã€‚
æ³¨æ„ï¼Œè®°å½•<code class="highlighter-rouge">log</code>çš„<code class="highlighter-rouge">ErrorLog "/private/var/log/apache2/sites-error_log"</code>ä¹Ÿå¯ä»¥åˆ æ‰ï¼Œä½†è®°å½•æ—¥å¿—å…¶å®æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œåœ¨å‡ºç°é—®é¢˜æ—¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ¤æ–­ã€‚å¦‚æœä¿ç•™è¿™äº›<code class="highlighter-rouge">log</code>ä»£ç ï¼Œä¸€å®š<code class="highlighter-rouge">log</code>æ–‡ä»¶è·¯å¾„éƒ½æ˜¯å­˜åœ¨çš„ï¼Œå¦‚æœéšä¾¿ä¿®æ”¹ä¸€ä¸ªä¸å­˜åœ¨çš„ï¼Œä¼šå¯¼è‡´<code class="highlighter-rouge">Apache</code>æ— æ³•æœåŠ¡è€Œæ²¡æœ‰é”™è¯¯æç¤ºï¼Œè¿™ä¸ªæ¯”è¾ƒæ¶å¿ƒã€‚</p>

:ET