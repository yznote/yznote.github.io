I"<p>一、了解几个相关的类
1、NSNotification
这个类可以理解为一个消息对象，其中有三个成员变量。</p>

<p>这个成员变量是这个消息对象的唯一标识，用于辨别消息对象。</p>

<p>@property (readonly, copy) NSString *name;</p>

<p>这个成员变量定义一个对象，可以理解为针对某一个对象的消息。</p>

<p>@property (readonly, retain) id object;</p>

<p>这个成员变量是一个字典，可以用其来进行传值。</p>

<p>@property (readonly, copy) NSDictionary *userInfo;</p>

<p>NSNotification的初始化方法：</p>

<ul>
  <li>
    <p>(instancetype)initWithName:(NSString *)name object:(id)object userInfo:(NSDictionary *)userInfo;</p>
  </li>
  <li>
    <p>(instancetype)notificationWithName:(NSString *)aName object:(id)anObject;</p>
  </li>
  <li>
    <p>(instancetype)notificationWithName:(NSString *)aName object:(id)anObject userInfo:(NSDictionary *)aUserInfo;</p>
  </li>
</ul>

<p>注意:官方文档有明确的说明，不可以使用init进行初始化</p>

<p>2、NSNotificationCenter
这个类是一个通知中心，使用单例设计，每个应用程序都会有一个默认的通知中心。用于调度通知的发送的接受。</p>

<p>添加一个观察者，可以为它指定一个方法，名字和对象。接受到通知时，执行方法。</p>

<ul>
  <li>(void)addObserver:(id)observer selector:(SEL)aSelector name:(NSString *)aName object:(id)anObject;</li>
</ul>

<p>发送通知消息的方法</p>

<ul>
  <li>
    <p>(void)postNotification:(NSNotification *)notification;</p>
  </li>
  <li>
    <p>(void)postNotificationName:(NSString *)aName object:(id)anObject;</p>
  </li>
  <li>
    <p>(void)postNotificationName:(NSString *)aName object:(id)anObject userInfo:(NSDictionary *)aUserInfo;</p>
  </li>
</ul>

<p>移除观察者的方法</p>

<ul>
  <li>
    <p>(void)removeObserver:(id)observer;</p>
  </li>
  <li>
    <p>(void)removeObserver:(id)observer name:(NSString *)aName object:(id)anObject;</p>
  </li>
</ul>

<p>几点注意：</p>

<p>1、如果发送的通知指定了object对象，那么观察者接收的通知设置的object对象与其一样，才会接收到通知，但是接收通知如果将这个参数设置为了nil，则会接收一切通知。</p>

<p>2、观察者的SEL函数指针可以有一个参数，参数就是发送的死奥西对象本身，可以通过这个参数取到消息对象的userInfo，实现传值。</p>

<p>二、通知的使用流程
首先，我们在需要接收通知的地方注册观察者，比如：</p>

<p>?</p>

<p>1</p>

<p>2</p>

<p>3</p>

<p>4</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//获取通知中心单例对象


NSNotificationCenter * center = [NSNotificationCenter defaultCenter];


//添加当前类对象为一个观察者，name和object设置为nil，表示接收一切通知


[center addObserver:self selector:@selector(notice:) name:@"123" object:nil]; 之后，在我们需要时发送通知消息 ?
</code></pre></div></div>

<p>1</p>

<p>2</p>

<p>3</p>

<p>4</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//创建一个消息对象


NSNotification * notice = [NSNotification notificationWithName:@"123" object:nil userInfo:@{@"1":@"123"}];


//发送消息


   [[NSNotificationCenter defaultCenter]postNotification:notice]; 我们可以在回调的函数中取到userInfo内容，如下： ?
</code></pre></div></div>

<p>1</p>

<p>2</p>

<p>3</p>

<p>-(void)notice:(id)sender{</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NSLog(@"%@",sender);
</code></pre></div></div>

<p>}
打印结果如下：</p>
:ET