I"˜<p>####å‡†å¤‡å·¥ä½œ</p>

<p>å®‰è£…<code class="highlighter-rouge">homebrew, git, yasm.</code>(å¦‚æœå·²ç»å®‰è£…å¥½å¯ä»¥è·³è¿‡, ä¸æ¸…æ¥šçš„å†æ¥ä¸€éä¹Ÿæ— å¦¨,ä¸€èˆ¬macéƒ½å·²ç»å®‰è£…)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
brew install git
brew install yasm
</code></pre></div></div>

<p>ps:æŠ¥é”™â€“&gt;(Warning: /usr/local/bin is not in your PATH.)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ç»ˆç«¯è¾“å…¥å‘½ä»¤: export PATH=/usr/local/bin:$PATH
</code></pre></div></div>

<h4 id="è·å–-ijkplayer-æºç ">è·å– ijkplayer æºç </h4>

<p>åœ¨ä¸€ä¸ªåˆé€‚çš„ä½ç½®æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹, å‡è®¾ä¸ºæ¡Œé¢, æ–‡ä»¶å¤¹åä¸º<code class="highlighter-rouge">ijkplayer</code>.</p>

<p>æ‰“å¼€ç»ˆç«¯, è¾“å…¥ä¸‹é¢çš„æŒ‡ä»¤</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># è¿›å…¥åˆ°åˆšåˆšæ–°å»ºçš„æ–‡ä»¶å¤¹å†…
cd ~/Desktop/ijkplayer/

# è·å–ijkplayeræºç 
git clone https://github.com/Bilibili/ijkplayer.git ijkplayer-ios

# è¿›å…¥æºç ç›®å½•
cd ijkplayer-ios

# åˆ‡æ¢åˆ†æ”¯ (ç›®å‰ä¸ºk0.8.8, å¯ä»¥è‡ªè¡Œå»GitHubæŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬å·)
git checkout -B latest k0.8.8

</code></pre></div></div>

<h4 id="é…ç½®ç¼–è§£ç å™¨æ ¼å¼æ”¯æŒ">é…ç½®ç¼–è§£ç å™¨æ ¼å¼æ”¯æŒ</h4>

<p>é»˜è®¤ä¸ºæœ€å°‘æ”¯æŒ, å¦‚æœè¶³å¤Ÿä½ ä½¿ç”¨, å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥. å¦åˆ™å¯ä»¥æ”¹ä¸ºä»¥ä¸‹é…ç½®:</p>

<blockquote>
  <p><code class="highlighter-rouge">module-default.sh</code> æ›´å¤šçš„ç¼–è§£ç å™¨/æ ¼å¼<br />
<code class="highlighter-rouge">module-lite-hevc.sh</code> è¾ƒå°‘çš„ç¼–è§£ç å™¨/æ ¼å¼(åŒ…æ‹¬hevc)<br />
<code class="highlighter-rouge">module-lite.sh</code>è¾ƒå°‘çš„ç¼–è§£ç å™¨/æ ¼å¼(é»˜è®¤æƒ…å†µ)</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># è¿›å…¥ config ç›®å½•
cd config

# åˆ é™¤å½“å‰çš„ module.sh æ–‡ä»¶
rm module.sh

# å¯æ ¹æ®éœ€è¦æ›¿æ¢ä¸º`module-default.sh`, `module-lite-hevc.sh`, `module-lite.sh`
# åˆ›å»ºè½¯é“¾æ¥ module.sh æŒ‡å‘ module-lite-hevc.sh
ln -s module-lite-hevc.sh module.sh

cd ..
cd ios
sh compile-ffmpeg.sh clean
</code></pre></div></div>

<h4 id="è·å–-ffmpeg-å¹¶åˆå§‹åŒ–">è·å– ffmpeg å¹¶åˆå§‹åŒ–</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ..
./init-ios.sh
</code></pre></div></div>

<h4 id="æ·»åŠ -https-æ”¯æŒ">æ·»åŠ  https æ”¯æŒ</h4>

<p>æœ€åä¼šç”Ÿæˆæ”¯æŒ<code class="highlighter-rouge">https</code>çš„é™æ€æ–‡ä»¶<code class="highlighter-rouge">libcrypto.a</code>å’Œ<code class="highlighter-rouge">libssl.a</code>,å¦‚æœä¸éœ€è¦å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># è·å– openssl å¹¶åˆå§‹åŒ–
./init-ios-openssl.sh

cd ios

# åœ¨æ¨¡å—æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œé…ç½® ä»¥å¯ç”¨ openssl ç»„ä»¶
echo 'export COMMON_FF_CFG_FLAGS="$COMMON_FF_CFG_FLAGS --enable-openssl"' &gt;&gt; ../config/module.sh

./compile-ffmpeg.sh clean
</code></pre></div></div>

<p><img src="/img/20200506/1.webp" alt="ss" /></p>

<p><a href="https://www.jianshu.com/p/444194035787">è½¬è½½ç®€ä¹¦åœ°å€</a></p>
:ET