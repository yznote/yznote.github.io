I"Ÿ<h4 id="å‰è¨€">å‰è¨€</h4>

<p>ç›®çš„:Aã€BåŒæ—¶æ‰§è¡Œï¼Œæ‹¿åˆ°Aã€Bçš„æ‰§è¡Œç»“æœå†å®è¡ŒC</p>

<h4 id="æ–¹å¼ä¸€">æ–¹å¼ä¸€</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    NSString *hUrl = @"http://dspceshi.yunbaozb.com/api/public/index.php?service=Video.getVideo&amp;uid=13629&amp;videoid=230&amp;mobileid=123aaa";

    NSLog(@"start");
    dispatch_group_t group = dispatch_group_create();
    dispatch_queue_t queue = dispatch_get_global_queue(0, 0);
    dispatch_semaphore_t semaphore = dispatch_semaphore_create(0);
    dispatch_group_async(group, queue, ^{
        sleep(5);
        NSLog(@"åŒæ­¥ä»»åŠ¡A");
        [YBNetworking postWithUrl:hUrl Dic:nil Suc:^(NSDictionary *data, NSString *code, NSString *msg) {
            dispatch_semaphore_signal(semaphore);
            NSLog(@"net1end===%@",[NSThread currentThread]);
        } Fail:^(id fail) {
//            sleep(5);
           dispatch_semaphore_signal(semaphore);
            NSLog(@"net1fail===%@",[NSThread currentThread]);
        }];
        dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);
        
    });
    
    dispatch_group_async(group, queue, ^{
        sleep(2);
        NSLog(@"åŒæ­¥ä»»åŠ¡B");
        [YBNetworking postWithUrl:hUrl Dic:nil Suc:^(NSDictionary *data, NSString *code, NSString *msg) {
            dispatch_semaphore_signal(semaphore);
            NSLog(@"net2end===%@",[NSThread currentThread]);
        } Fail:^(id fail) {
//            sleep(10);
           dispatch_semaphore_signal(semaphore);
            NSLog(@"net2fail===%@",[NSThread currentThread]);
        }];
        dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);
        
    });
    
//    dispatch_group_async(group, queue, ^{
//        sleep(10);
//        NSLog(@"åŒæ­¥ä»»åŠ¡C");
//    });
    
    dispatch_group_notify(group, queue, ^{
        NSLog(@"ä»»åŠ¡å®Œæˆæ‰§è¡Œ");
    });
</code></pre></div></div>
:ET